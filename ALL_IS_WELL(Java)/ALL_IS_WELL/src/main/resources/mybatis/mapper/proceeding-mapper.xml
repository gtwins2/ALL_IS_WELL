<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="proceeding">
   <select id="getBoardCnt" resultType="int">
      SELECT COUNT(NO) FROM PROCEEDING
      <if test="searchType != null and searchType != '' and searchValue != null and searchValue != ''">		
	  WHERE ${searchType} LIKE '%${searchValue}%'
	  </if>
   </select>

   <select id="selectBoardList" resultType="com.kh.app.proceeding.vo.ProceedingVo">
      SELECT NO, MEMBER_NO, TITLE, CONTENT, DUE_DATE, ENROLL_DATE, COMPLETION_DATE FROM PROCEEDING
      <if test="searchType != null and searchType != '' and searchValue != null and searchValue != ''">		
	  WHERE ${searchType} LIKE '%${searchValue.toString()}%'
	  </if>
   </select>
	
	 <insert id="write">
		INSERT INTO PROCEEDING
		(
			NO,
			MEMBER_NO,
			TITLE,
			CONTENT,
			DUE_DATE,
			ENROLL_DATE
		)
		VALUES
		(
			SEQ_PROCEEDING_NO.NEXTVAL,
			#{memberNo},
			#{title},
			#{content},
			(TO_TIMESTAMP(#{dueDate})),
			SYSDATE
		)
		
	</insert> 
	
	
</mapper>